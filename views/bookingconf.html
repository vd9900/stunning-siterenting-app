<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>booking conformation</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
  </head>
  <!-- Basic style -->
  <style>
    .img-container {
      margin: 20px auto;
      position: relative;
    }

    .btn-container {
      position: absolute;
      text-align: center;
      display: flex;
      justify-content: space-between;
      padding: 0 10px;
      top: 42%;
      width: 100%;
    }

    .img-container > img {
      height: 400px;
      width: 100%;
      display: block;
      margin: auto;
      padding-bottom: 20px;
    }

    .btn-container > button {
      outline: none;
      width: 40px;
      height: 40px;
      border: none;
      background-color: rgb(25, 121, 211);
      border-radius: 50%;
      color: white;
      cursor: pointer;
    }

    .btn-container > button:last-child {
      margin: 0 50px 0 0;
    }
  </style>

  <body class="bg-dark">
    <section>
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
          <a class="navbar-brand p-0" href="/home">
            <img
              src="https://i.pinimg.com/originals/1f/06/86/1f068632bb0b0bc410d18c815c583cdc.png"
              alt=""
              width="60px"
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/home"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/hoster">Become a hoster</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/mybookings">my booking's</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/logout">logout</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="p-3 bg-dark">
        <!-- post component -->
        <div class="rounded-3 bg-light m-auto px-2 col-lg-6">
          <div class="p-2">
            <!-- post title -->
            <h2 class="propertyName">big house here</h2>
            <!-- place -->
            <h4><span class="city"></span>,<span class="country"></span></h4>
          </div>

          <!--  tumbmail -->
          <p class="fs-5 my-2 maintitle">
            Luxury stay in Baa Atoll, North Province, Maldives
          </p>
          <div class="wrapper mt-3">
            <div class="row d-flex justify-content-between">
              <div class="col-lg-7 col-md-12">
                <div
                  class="col-lg-12 border rounded border-dark"
                  style="--bs-border-opacity: 0.4"
                >
                  <div class="row px-2 my-2">
                    <!-- guest name -->
                    <div class="col-lg-12 col-md-12 mt-1">
                      <label for="guestName" class="form-label"
                        >Guest Name:</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="guestName"
                        name="GuestName"
                        readonly
                      />
                    </div>
                    <!-- check in -->
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="checkIn" class="form-label">Check in</label>
                      <input
                        type="date"
                        class="form-control"
                        id="checkIn"
                        name="Checkin"
                        readonly
                      />
                    </div>
                    <!-- check out -->
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="checkOut" class="form-label">Check out</label>
                      <input
                        type="text"
                        class="form-control"
                        id="checkOut"
                        name="Checkout"
                        readonly
                      />
                    </div>
                    <!-- no of person -->
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="nop" class="form-label">No of person:</label>
                      <input
                        type="number"
                        class="form-control"
                        id="nop"
                        name="Nop"
                        readonly
                      />
                    </div>
                    <!-- no of nights stay -->
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="non" class="form-label">No of nights</label>
                      <input
                        type="number"
                        class="form-control"
                        id="non"
                        name="Non"
                        readonly
                      />
                    </div>
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="totalPrice" class="form-label"
                        >Total Price</label
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="totalPrice"
                        name="Totalprice"
                        readonly
                      />
                    </div>
                    <!-- payment method -->
                    <div class="col-lg-6 col-md-12 mt-3">
                      <label for="payment" class="form-label"
                        >Payment option</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="payment"
                        name="Checkout"
                        readonly
                      />
                    </div>
                    <!-- button from backend -->
                    <div
                      class="button col-lg-12 col-md-12 d-flex justify-content-around align-items-center mt-3"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container py-3">
            <a href="/conformed"
              ><button class="btn btn-success">Conform</button></a
            >
          </div>
        </div>
      </div>
    </section>
    <script>
      const city = document.querySelector(".city");
      const country = document.querySelector(".country");
      const propertyName = document.querySelector(".propertyName");
      const mainTitle = document.querySelector(".mainTitle");
      const guestName = document.querySelector("#guestName");
      const nopeople = document.querySelector("#nop");
      const nonight = document.querySelector("#non");
      const checkIn = document.querySelector("#checkIn");
      const checkOut = document.querySelector("#checkOut");
      const totalPrice = document.querySelector("#totalPrice");
      const payment = document.querySelector("#payment");
      async function fetchpropertydata() {
        const SERVER = "http://localhost:5000";

        try {
          // fetch data here
          const fetchs = await fetch(`${SERVER}/fetchbookedRoom`);

          // convert  json to data
          const data = await fetchs.json();
          console.log(data);
          console.log(data.CheckIn);
          propertyName.innerHTML = data.roomDetails.propertyName;
          city.innerHTML = data.roomDetails.city;
          country.innerHTML = data.roomDetails.country;
          // mainTitle.innerHTML = data.roomDetails.mainTitle
          guestName.value = data.GuestName;
          nopeople.value = data.Nop;
          nonight.value = data.Non;
          checkIn.value = data.CheckIn;
          checkOut.value = data.CheckOut;
          totalPrice.value = data.totalPrice;
          payment.value = data.Payment;
        } catch (err) {
          // err
          console.log(err);
        }
      }
      fetchpropertydata();
    </script>
    <!-- Javascript code for next and previous button -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
